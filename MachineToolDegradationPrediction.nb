(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     12536,        319]
NotebookOptionsPosition[     11135,        288]
NotebookOutlinePosition[     11551,        305]
CellTagsIndexPosition[     11508,        302]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["OpenIE \:5f00\:6e90\:667a\:6167\:5de5\:7a0b", "Title",
 CellChangeTimes->{{3.9021962210729694`*^9, 
  3.902196249236627*^9}},ExpressionUUID->"92fd93a5-3d54-4da1-a100-\
381a5e035690"],

Cell["\:52a0\:5de5\:4e2d\:5fc3\:5200\:5177\:78e8\:635f\:91cf\:9884\:6d4b\:53ca\
\:5176\:5de5\:4e1a\:5e94\:7528", "Subtitle",
 CellChangeTimes->{{3.902196279569437*^9, 
  3.9021963064705114`*^9}},ExpressionUUID->"bf1aebb1-1f5b-4c55-90b2-\
4783ae71c5d5"],

Cell[CellGroupData[{

Cell["Section 1 Import Data from \[OpenCurlyDoubleQuote]*.csv\
\[CloseCurlyDoubleQuote] file", "Section",
 CellChangeTimes->{{3.90219719459752*^9, 3.9021972063954363`*^9}, {
  3.9022044448992968`*^9, 
  3.9022044733486404`*^9}},ExpressionUUID->"08b83838-5849-401c-9d75-\
d6d3412dbbdc"],

Cell["\<\
Step 1: Define a function for read \[OpenCurlyDoubleQuote]*.csv\
\[CloseCurlyDoubleQuote] file, input the file name and return as data.\
\>", "Text",
 CellChangeTimes->{{3.902268316179364*^9, 3.902268355103919*^9}, {
  3.9022855120480824`*^9, 
  3.902285516002076*^9}},ExpressionUUID->"6311fa63-39c4-4a6c-8976-\
558d3a651bb2"],

Cell[BoxData[{
 RowBox[{"Get", "[", 
  RowBox[{
   RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
   "\"\<readMachineSignal.wl\>\""}], "]"}], "\n", 
 RowBox[{"readMachineSignal", "[", "\"\<CSVfileName\>\"", "]"}]}], "Code",
 CellChangeTimes->{{3.902285480495495*^9, 
  3.902285501990673*^9}},ExpressionUUID->"a72415c7-24fc-4e6c-a807-\
6d50d24331cf"],

Cell["Step 2: Plot the data with 3 rows and 2 colons graph", "Text",
 CellChangeTimes->{{3.9022683738859873`*^9, 3.902268425152521*^9}, {
  3.9022855206451397`*^9, 
  3.902285527425378*^9}},ExpressionUUID->"9cba0299-d351-4bfc-8c33-\
4443eb78ca11"],

Cell[BoxData[
 RowBox[{
  RowBox[{"plotMachineSignal", "[", "data_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"smcAC", "=", 
      RowBox[{"Rest", "[", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "2"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"smcDC", "=", 
      RowBox[{"Rest", "[", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "3"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vibTable", "=", 
      RowBox[{"Rest", "[", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "4"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vibSpindle", "=", 
      RowBox[{"Rest", "[", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "5"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"AETable", "=", 
      RowBox[{"Rest", "[", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "6"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"AESpindle", "=", 
      RowBox[{"Rest", "[", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "7"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"smcACPlot", "=", 
      RowBox[{"ListPlot", "[", 
       RowBox[{"smcAC", ",", 
        RowBox[{"PlotStyle", "->", "Red"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{
          "\"\<AC spindle motor current\>\"", ",", "\"\<current\>\""}], 
          "}"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"smcDCPlot", "=", 
      RowBox[{"ListPlot", "[", 
       RowBox[{"smcDC", ",", 
        RowBox[{"PlotStyle", "->", "Green"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{
          "\"\<DC spindle motor current\>\"", ",", "\"\<current\>\""}], 
          "}"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vibTablePlot", "=", 
      RowBox[{"ListPlot", "[", 
       RowBox[{"vibTable", ",", 
        RowBox[{"PlotStyle", "->", "Blue"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{"\"\<Table vibration\>\"", ",", "\"\<vibration\>\""}], 
          "}"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vibSpindlePlot", "=", 
      RowBox[{"ListPlot", "[", 
       RowBox[{"vibSpindle", ",", 
        RowBox[{"PlotStyle", "->", "Purple"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{"\"\<Spindle vibration\>\"", ",", "\"\<vibration\>\""}], 
          "}"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"AETablePlot", "=", 
      RowBox[{"ListPlot", "[", 
       RowBox[{"AETable", ",", 
        RowBox[{"PlotStyle", "->", "Orange"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{
          "\"\<Acoustic emission at table\>\"", ",", 
           "\"\<acoustic emission\>\""}], "}"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"AESpindlePlot", "=", 
      RowBox[{"ListPlot", "[", 
       RowBox[{"AESpindle", ",", 
        RowBox[{"PlotStyle", "->", "Cyan"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{
          "\"\<Acoustic emission at spindle\>\"", ",", 
           "\"\<acoustic emission\>\""}], "}"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"GraphicsGrid", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"smcACPlot", ",", "smcDCPlot"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"vibTablePlot", ",", "vibSpindlePlot"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"AETablePlot", ",", "AESpindlePlot"}], "}"}]}], "}"}], 
      "]"}]}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.9022652845129814`*^9, 3.9022653536761227`*^9}},
 CellLabel->"In[2]:=",ExpressionUUID->"70c4e031-52bd-4500-b7a1-71daabd97c1e"],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"i", "=", "1"}], ",", 
   RowBox[{"i", "<=", "167"}], ",", 
   RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"inputFileName", "=", 
     RowBox[{
      RowBox[{"ToString", "[", "i", "]"}], "<>", "\"\<.csv\>\""}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"data", "=", 
     RowBox[{"readMachineSignal", "[", "inputFileName", "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"plot", "=", 
     RowBox[{"plotMachineSignal", "[", "data", "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"outputFileName", "=", 
     RowBox[{
      RowBox[{"ToString", "[", "i", "]"}], "<>", "\"\<.pdf\>\""}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"Export", "[", 
     RowBox[{
      RowBox[{"FileNameJoin", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"NotebookDirectory", "[", "]"}], ",", "\"\<machineData\>\"", 
         ",", "\"\<SignalPic\>\"", ",", "outputFileName"}], "}"}], "]"}], ",",
       "plot"}], "]"}], ";", "\[IndentingNewLine]", 
    RowBox[{"Print", "[", 
     RowBox[{"\"\<Already output No.\>\"", "<>", 
      RowBox[{"ToString", "[", "i", "]"}], "<>", 
      "\"\< csv file Signal Diagram\>\""}], "]"}]}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.902265482999652*^9, 3.9022655132742395`*^9}, {
   3.902266362546195*^9, 3.9022663979725056`*^9}, {3.9022664373667555`*^9, 
   3.902266646974101*^9}, 3.9022667106713123`*^9, {3.902266828849697*^9, 
   3.9022668868587856`*^9}, {3.9022669353064604`*^9, 
   3.9022669610307207`*^9}, {3.9022672100700893`*^9, 
   3.9022672201909037`*^9}, {3.902267819821743*^9, 3.902267902336158*^9}, {
   3.9022679344565563`*^9, 3.902267934787964*^9}, {3.9022681412808895`*^9, 
   3.9022681476474686`*^9}},ExpressionUUID->"91a3d250-e71f-49b1-886e-\
9ba090ba0631"],

Cell[BoxData[
 RowBox[{"Get", "[", 
  RowBox[{
   RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
   "\"\<readMachineSignal.wl\>\""}], "]"}]], "Input",
 CellChangeTimes->{{3.9022851986829042`*^9, 3.902285201343274*^9}, {
  3.9022853295990195`*^9, 3.902285350466443*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"7c5e2252-ce55-490b-b314-219d168786de"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"data", "=", 
  RowBox[{"readMachineSignal", "[", "\"\<3.csv\>\"", "]"}]}]], "Input",
 CellChangeTimes->{{3.9022853722889023`*^9, 3.9022854027676144`*^9}},
 CellLabel->"In[4]:=",ExpressionUUID->"9296df48-d0b7-4789-a140-4d17b895ba71"],

Cell[BoxData[
 TemplateBox[<|"shortenedBoxes" -> TagBox[
     RowBox[{"{", 
       RowBox[{
         RowBox[{"{", 
           
           RowBox[{"\"index\"", ",", "\"smcAC\"", ",", "\"smcDC\"", ",", 
             "\"vib_table\"", ",", "\"vib_spindle\"", ",", "\"AE_table\"", 
             ",", "\"AE_spindle\"", ",", "\"\""}], "}"}], ",", 
         RowBox[{"{", 
           RowBox[{"1", ",", 
             RowBox[{"-", "0.725098`"}], ",", "0.913086`", ",", "0.083008`", 
             ",", "0.29541`", ",", "0.092773`", ",", "0.10498`"}], "}"}], ",", 
         RowBox[{"{", 
           RowBox[{"2", ",", 
             RowBox[{"-", "0.715332`"}], ",", "0.834961`", ",", "0.078125`", 
             ",", "0.296631`", ",", "0.100708`", ",", "0.119019`"}], "}"}], 
         ",", 
         TemplateBox[{"8995"}, "OutputSizeLimit`Skeleton"], ",", 
         RowBox[{"{", 
           RowBox[{"8998", ",", 
             RowBox[{"-", "0.45166`"}], ",", "1.606445`", ",", "0.083008`", 
             ",", "0.286865`", ",", "0.08606`", ",", "0.092773`"}], "}"}], 
         ",", 
         RowBox[{"{", 
           RowBox[{"8999", ",", 
             RowBox[{"-", "0.432129`"}], ",", "1.445312`", ",", "0.095215`", 
             ",", "0.299072`", ",", "0.088501`", ",", "0.102539`"}], "}"}], 
         ",", 
         RowBox[{"{", 
           RowBox[{"9000", ",", 
             RowBox[{"-", "0.632324`"}], ",", "1.293945`", ",", "0.270996`", 
             ",", "0.296631`", ",", "0.097656`", ",", "0.127563`"}], "}"}]}], 
       "}"}], Short[#, 8]& ], "line" -> 4, "sessionID" -> 
   25829954751634396398, "byteCount" -> 1944480, "size" -> 8, "stored" -> 
   False, "expr" -> Missing["NotStored"], "wrap" -> OutputSizeLimit`Defer, 
   "version" -> 1|>,
  "OutputSizeLimitTemplate"]], "Output",
 CellChangeTimes->{{3.9022853922385654`*^9, 3.902285403904735*^9}},
 CellLabel->"Out[4]=",ExpressionUUID->"5027d80c-5772-40d5-a3c6-259a0a7417da"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{718.5, 741},
WindowMargins->{{-5.25, Automatic}, {Automatic, 0}},
FrontEndVersion->"13.3 for Microsoft Windows (64-bit) (2023\:5e747\:670824\
\:65e5)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"046d0ae3-a27d-4f40-a08b-ee505195b36f"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 188, 3, 98, "Title",ExpressionUUID->"92fd93a5-3d54-4da1-a100-381a5e035690"],
Cell[771, 27, 252, 4, 53, "Subtitle",ExpressionUUID->"bf1aebb1-1f5b-4c55-90b2-4783ae71c5d5"],
Cell[CellGroupData[{
Cell[1048, 35, 285, 5, 67, "Section",ExpressionUUID->"08b83838-5849-401c-9d75-d6d3412dbbdc"],
Cell[1336, 42, 336, 7, 35, "Text",ExpressionUUID->"6311fa63-39c4-4a6c-8976-558d3a651bb2"],
Cell[1675, 51, 350, 8, 68, "Code",ExpressionUUID->"a72415c7-24fc-4e6c-a807-6d50d24331cf"],
Cell[2028, 61, 247, 4, 35, "Text",ExpressionUUID->"9cba0299-d351-4bfc-8c33-4443eb78ca11"],
Cell[2278, 67, 4413, 114, 754, "Input",ExpressionUUID->"70c4e031-52bd-4500-b7a1-71daabd97c1e"],
Cell[6694, 183, 1845, 42, 262, "Input",ExpressionUUID->"91a3d250-e71f-49b1-886e-9ba090ba0631"],
Cell[8542, 227, 348, 7, 43, "Input",ExpressionUUID->"7c5e2252-ce55-490b-b314-219d168786de"],
Cell[CellGroupData[{
Cell[8915, 238, 256, 4, 28, "Input",ExpressionUUID->"9296df48-d0b7-4789-a140-4d17b895ba71"],
Cell[9174, 244, 1921, 39, 156, "Output",ExpressionUUID->"5027d80c-5772-40d5-a3c6-259a0a7417da"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

